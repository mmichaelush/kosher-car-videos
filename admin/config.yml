# backend:
#   name: github
#   repo: mmichaelush/kosher-car-videos.io # הוחלף ב-git-gateway שהוא הדרך המומלצת
#   branch: main
#   auth_type: netlify-identity

# הדרך המומלצת לעבודה עם Netlify Identity היא דרך Git Gateway.
# זה מאפשר ל-Netlify לנהל את הגישה ל-GitHub במקומך בצורה בטוחה יותר.
# יש לוודא שהפעלת את Git Gateway בהגדרות האתר שלך ב-Netlify.
backend:
  name: git-gateway
  repo: mmichaelush/kosher-car-videos # שם המאגר הנכון
  branch: main

publish_mode: editorial_workflow
media_folder: "data/assets/images"
public_folder: "/data/assets/images"

# מבנה הקולקציה תוקן כדי לערוך קובץ JSON יחיד המכיל רשימה (array) של סרטונים.
# קובץ ה-JSON יהיה במבנה: { "videos": [ {..video1..}, {..video2..} ] }
collections:
  - name: "videos"
    label: "סרטונים"
    files:
      - name: "video_database"
        label: "מאגר הסרטונים"
        file: "data/videos.json"
        description: "ניהול כל הסרטונים באתר. כל פריט ברשימה הוא סרטון."
        fields:
          - name: videos # זהו המפתח הראשי בקובץ ה-JSON שיחזיק את רשימת הסרטונים
            label: "רשימת סרטונים"
            label_singular: "סרטון"
            widget: list
            add_to_top: true # סרטונים חדשים יופיעו בראש הרשימה, לנוחות עריכה
            summary: "{{fields.title}} (ID: {{fields.id}})" # תצוגה מקדימה נוחה יותר ברשימה
            fields:
              - { label: "YouTube Video ID", name: "id", widget: "string", hint: "ה-ID של הסרטון מתוך הקישור ביוטיוב (11 תווים). לדוגמה: -AtUg2GPXKs", pattern: ['^[\\w-]{11}$', "חייב להיות מזהה יוטיוב תקין בן 11 תווים"] }
              - { label: "כותרת הסרטון", name: "title", widget: "string" }
              - { label: "משך הסרטון", name: "duration", widget: "string", hint: "בפורמט HH:MM:SS או MM:SS" }
              - { label: "שם הערוץ", name: "channel", widget: "string" }
              - { label: "תמונת הערוץ", name: "channelImage", widget: "image", required: false }
              - { label: "תמונה ממוזערת (Thumbnail)", name: "thumbnail", widget: "string", hint: "לדוגמה: https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg. אם משאירים ריק, המערכת תנסה למלא אוטומטית." }
              - label: "קטגוריה"
                name: "category"
                widget: "select"
                options:
                  - { label: "סקירות רכב", value: "review" }
                  - { label: "טיפולים", value: "maintenance" }
                  - { label: "עשה זאת בעצמך", value: "diy" }
                  - { label: "איתור ותיקון תקלות", value: "troubleshooting" }
                  - { label: "שיפורים ושדרוגים", value: "upgrades" }
                  - { label: "מערכות הרכב", value: "systems" }
                  - { label: "רכבי אספנות", value: "collectors" }
              - { label: "תגיות", name: "tags", widget: "list", hint: "הוסף תגיות רלוונטיות. לחץ 'הוסף' כדי להוסיף תגית חדשה." }
              - { label: "תוכן בעברית?", name: "hebrewContent", widget: "boolean", default: true }
              - { label: "תאריך הוספה", name: "dateAdded", widget: "datetime", format: "YYYY-MM-DD", date_format: "DD.MM.YYYY", time_format: false, default: "" }
